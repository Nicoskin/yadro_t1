#ifndef QAM_MAPS_H
#define QAM_MAPS_H
#include <vector>
#include <complex>

using cd = std::complex<double>;
using namespace std::complex_literals;  

// Согласно 3GPP TS 38.211 5.1
const std::vector<cd> QPSK_MAP = {1.0 + 1.0i, 1.0 - 1.0i, -1.0 + 1.0i, -1.0 - 1.0i};
const std::vector<cd> QAM16_MAP = {
    1.0 + 1.0i, 1.0 + 3.0i, 3.0 + 1.0i, 3.0 + 3.0i,
    1.0 - 1.0i, 1.0 - 3.0i, 3.0 - 1.0i, 3.0 - 3.0i,
    -1.0 + 1.0i, -1.0 + 3.0i, -3.0 + 1.0i, -3.0 + 3.0i,
    -1.0 - 1.0i, -1.0 - 3.0i, -3.0 - 1.0i, -3.0 - 3.0i
};
const std::vector<cd> QAM64_MAP = {
    3.0 + 3.0i, 3.0 + 1.0i, 1.0 + 3.0i, 1.0 + 1.0i, // 000000 - 000011
    3.0 + 5.0i, 3.0 + 7.0i, 1.0 + 5.0i, 1.0 + 7.0i, // 000100 - 000111
    5.0 + 3.0i, 5.0 + 1.0i, 7.0 + 3.0i, 7.0 + 1.0i, // 001000 - 001011
    5.0 + 5.0i, 5.0 + 7.0i, 7.0 + 5.0i, 7.0 + 7.0i, // 001100 - 001111
    3.0 - 3.0i, 3.0 - 1.0i, 1.0 - 3.0i, 1.0 - 1.0i, // 010000 - 010011
    3.0 - 5.0i, 3.0 - 7.0i, 1.0 - 5.0i, 1.0 - 7.0i, // 010100 - 010111
    5.0 - 3.0i, 5.0 - 1.0i, 7.0 - 3.0i, 7.0 - 1.0i, // 011000 - 011011
    5.0 - 5.0i, 5.0 - 7.0i, 7.0 - 5.0i, 7.0 - 7.0i, // 011100 - 011111
    -3.0 + 3.0i, -3.0 + 1.0i, -1.0 + 3.0i, -1.0 + 1.0i, // 100000 - 100011
    -3.0 + 5.0i, -3.0 + 7.0i, -1.0 + 5.0i, -1.0 + 7.0i, // 100100 - 100111
    -5.0 + 3.0i, -5.0 + 1.0i, -7.0 + 3.0i, -7.0 + 1.0i, // 101000 - 101011
    -5.0 + 5.0i, -5.0 + 7.0i, -7.0 + 5.0i, -7.0 + 7.0i, // 101100 - 101111
    -3.0 - 3.0i, -3.0 - 1.0i, -1.0 - 3.0i, -1.0 - 1.0i, // 110000 - 110011
    -3.0 - 5.0i, -3.0 - 7.0i, -1.0 - 5.0i, -1.0 - 7.0i, // 110100 - 110111
    -5.0 - 3.0i, -5.0 - 1.0i, -7.0 - 3.0i, -7.0 - 1.0i, // 111000 - 111011
    -5.0 - 5.0i, -5.0 - 7.0i, -7.0 - 5.0i, -7.0 - 7.0i  // 111100 - 111111
};


const std::unordered_map<ModulationType, std::tuple<std::vector<cd>, size_t, double>> modulationData = {
    {QPSK, {QPSK_MAP, 2, 2.0}},
    {QAM16, {QAM16_MAP, 4, 10.0}},
    {QAM64, {QAM64_MAP, 6, 42.0}},
};

#endif // QAM_MAPS_H